<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾®ç©åˆ† (2) - 10.4 æ¥µåº§æ¨™å¾®ç©åˆ† | Prof. Wu Wen-Chuan</title>
    
    <!-- 1. æ ¸å¿ƒæ¨£å¼èˆ‡åº«è¼‰å…¥ -->
    <!-- Tailwind CSS (æ¨£å¼æ¡†æ¶) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM (å‰ç«¯æ¡†æ¶) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (JSX ç·¨è­¯å™¨) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- KaTeX (æ•¸å­¸å…¬å¼æ¸²æŸ“) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    
    <!-- è‡ªå®šç¾©æ¨£å¼ -->
    <style>
        /* å¹³æ»‘æ»¾å‹• */
        html { scroll-behavior: smooth; }
        /* è‡ªå®šç¾©æ»¾å‹•æ¢ */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #fdf2f8; }
        ::-webkit-scrollbar-thumb { background: #fbcfe8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #f472b6; }
        /* æ•¸å­¸å…¬å¼å®¹å™¨æ¨£å¼ - å…è¨±æ°´å¹³æ»¾å‹• */
        .math-display { overflow-x: auto; overflow-y: hidden; }
    </style>
</head>
<body class="bg-yellow-50 font-sans text-gray-800 selection:bg-pink-200">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // 2. å·¥å…·çµ„ä»¶ (Utilities)
        // ==========================================

        /**
         * LaTeX æ¸²æŸ“çµ„ä»¶
         */
        const Latex = ({ children, block = false, fontSize = '0.9em' }) => {
            const spanRef = useRef(null);

            useEffect(() => {
                if (window.katex && spanRef.current) {
                    try {
                        const content = typeof children === 'string' ? children : '';
                        window.katex.render(content, spanRef.current, {
                            throwOnError: false,
                            displayMode: block,
                        });
                    } catch (e) {
                        console.warn("KaTeX render error", e);
                        if (spanRef.current) spanRef.current.innerText = String(children);
                    }
                }
            }, [children, block]);

            return <span ref={spanRef} style={{ margin: '0 4px', display: block ? 'block' : 'inline-block', fontSize: fontSize }} />;
        };

        // ==========================================
        // 3. UI å­çµ„ä»¶ (Sub-components)
        // ==========================================

        const Navbar = ({ t, isMenuOpen, setIsMenuOpen, toggleLang }) => {
            return (
                <nav className="sticky top-0 z-50 w-full bg-white/90 px-6 py-4 shadow-md backdrop-blur-md transition-all">
                    <div className="flex items-center justify-between max-w-7xl mx-auto">
                        <div className="flex flex-col">
                            <h1 className="bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-2xl font-black tracking-tight text-transparent md:text-3xl">
                                {t.title}
                            </h1>
                            <span className="text-base font-medium text-gray-500 md:text-xl">
                                {t.teacher}
                            </span>
                        </div>

                        <div className="hidden items-center gap-6 md:flex">
                            {t.menu.map((item, i) => (
                                <a key={i} href={`#part${i+1}`} className="text-xl font-bold text-gray-600 hover:text-pink-500 transition-colors">{item}</a>
                            ))}
                            <button 
                                onClick={toggleLang}
                                className="flex items-center gap-2 rounded-full bg-purple-100 px-5 py-2 text-lg font-bold text-purple-700 transition-all hover:bg-purple-200 hover:shadow-md active:scale-95"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                {t.langBtn}
                            </button>
                        </div>

                        <button 
                            className="rounded-full bg-gray-100 p-2 text-gray-600 md:hidden hover:bg-gray-200"
                            onClick={() => setIsMenuOpen(!isMenuOpen)}
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                        </button>
                    </div>

                    {isMenuOpen && (
                        <div className="mt-4 flex flex-col gap-4 border-t border-gray-100 pt-4 md:hidden">
                            {t.menu.map((item, i) => (
                                <a key={i} href={`#part${i+1}`} onClick={() => setIsMenuOpen(false)} className="px-2 py-1 text-lg font-bold text-gray-600">{item}</a>
                            ))}
                            <button 
                                onClick={() => { toggleLang(); setIsMenuOpen(false); }}
                                className="flex w-full items-center justify-center gap-2 rounded-xl bg-purple-100 py-3 font-bold text-purple-700"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                {t.langBtn}
                            </button>
                        </div>
                    )}
                </nav>
            );
        };

        const UnitHeader = ({ t }) => (
            <div className="mb-8 text-center animate-in fade-in zoom-in duration-500">
                <h2 className="mb-2 text-4xl font-black text-black md:text-5xl">
                    <span className="mr-3 text-black">{t.unitId}</span>
                    {t.unitTitle}
                </h2>
                <p className="text-2xl font-bold text-gray-500">{t.unitSub}</p>
            </div>
        );

        const Part1 = ({ t }) => (
            <section id="part1" className="scroll-mt-32 rounded-[2rem] bg-pink-100 p-8 shadow-lg shadow-pink-100/50 md:p-12 transition-all hover:shadow-xl">
                <div className="mb-6 flex items-center gap-3">
                    <div className="flex h-12 w-12 items-center justify-center rounded-full bg-white text-pink-500 shadow-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                    </div>
                    <h2 className="text-2xl font-black text-pink-700 md:text-3xl">{t.part1Title}</h2>
                </div>
                
                <div className="space-y-8 rounded-3xl bg-white/60 p-6 md:p-8">
                    <h3 className="text-2xl font-bold text-gray-800">{t.part1Topic}</h3>
                    <div className="text-xl leading-relaxed text-gray-700">{t.part1Desc}</div>

                    {/* è§€å¿µé¡æ¯”å€å¡Š */}
                    <div className="bg-purple-50 py-4 px-6 rounded-2xl border-l-8 border-purple-400">
                        <h4 className="font-bold text-purple-800 text-xl mb-2 flex items-center gap-2">
                            <span>ğŸ’¡</span> {t.analogyTitle}
                        </h4>
                        <div className="text-xl text-gray-700 leading-relaxed">
                            {t.analogyDesc}
                        </div>
                    </div>
                    
                    {/* Formula 1 Block (Area) */}
                    <div className="bg-pink-50 py-4 px-6 rounded-2xl border-l-8 border-pink-400">
                        <h4 className="font-bold text-pink-800 text-xl mb-2">{t.formula1Title}</h4>
                        <div className="text-center my-4 math-display bg-white/50 p-4 rounded-xl">
                            <Latex block>{'\\displaystyle A = \\int_{a}^{b} \\frac{1}{2}[f(\\theta)]^2 \\, d\\theta = \\int_{a}^{b} \\frac{1}{2}r^2 \\, d\\theta'}</Latex>
                        </div>
                    </div>

                    {/* Formula 2 Block (Arc Length) */}
                    <div className="bg-white p-6 rounded-2xl border-l-8 border-pink-400 shadow-sm">
                        <h4 className="font-bold text-pink-800 text-xl mb-4">{t.formula2Title}</h4>
                        <div className="text-center my-4 math-display bg-blue-50 p-4 rounded-xl">
                            <Latex block>{'\\displaystyle L = \\int_{a}^{b} \\sqrt{r^2 + \\left(\\frac{dr}{d\\theta}\\right)^2} \\, d\\theta'}</Latex>
                        </div>
                    </div>

                    {/* Formula 3 Block (Tangent) */}
                    <div className="bg-white border-2 border-pink-300 py-4 px-6 rounded-2xl text-center shadow-sm">
                        <div className="text-xl font-bold text-pink-700 mb-2">{t.formula3Title}</div>
                        <div className="math-display text-lg">
                            <Latex block>{'\\displaystyle \\frac{dy}{dx} = \\frac{r\'\\sin\\theta + r\\cos\\theta}{r\'\\cos\\theta - r\\sin\\theta}'}</Latex>
                        </div>
                    </div>
                </div>
            </section>
        );

        const Part2 = ({ t, activeExList, activeExampleId, setActiveExampleId }) => {
            const activeEx = activeExList.find(e => e.id === activeExampleId) || activeExList[0];
            return (
                <section id="part2" className="scroll-mt-32 rounded-[2rem] bg-blue-100 p-8 shadow-lg shadow-blue-100/50 md:p-12 transition-all hover:shadow-xl">
                    <div className="mb-6 flex items-center gap-3">
                        <div className="flex h-12 w-12 items-center justify-center rounded-full bg-white text-blue-500 shadow-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
                        </div>
                        <h2 className="text-2xl font-black text-blue-700 md:text-3xl">{t.part2Title}</h2>
                    </div>

                    <div className="mb-8 flex flex-wrap gap-3">
                        {activeExList.map((ex) => (
                            <button
                                key={ex.id}
                                onClick={() => setActiveExampleId(ex.id)}
                                className={`rounded-full px-6 py-3 text-lg font-bold transition-all shadow-sm ${
                                    activeExampleId === ex.id
                                        ? "bg-blue-600 text-white shadow-lg shadow-blue-500/30 scale-105"
                                        : "bg-white text-blue-600 hover:bg-blue-50 hover:scale-105"
                                }`}
                            >
                                {t.btnLabel} {ex.id}
                            </button>
                        ))}
                    </div>

                    <div className="space-y-8">
                        <div key={activeEx.id} className="rounded-3xl bg-white/60 p-6 md:p-8 shadow-inner">
                            <div className="border-b-2 border-blue-200 pb-6 mb-6">
                                <h3 className="text-2xl font-bold text-blue-800 mb-3">{activeEx.title}</h3>
                                <div className="flex flex-wrap items-center gap-4 text-lg font-bold text-gray-800">
                                    <span className="bg-blue-100 text-blue-800 px-3 py-1 rounded-lg">{t.btnLabel} {activeEx.id}:</span>
                                    <div className="rounded-xl bg-white px-6 py-3 text-blue-600 shadow-md ring-1 ring-blue-100 math-display">
                                        <Latex block fontSize="0.9em">{activeEx.math}</Latex>
                                    </div>
                                </div>
                            </div>

                            <div className="space-y-6">
                                {activeEx.steps.map((step, idx) => (
                                    <div key={idx} className="group rounded-2xl bg-white p-6 ring-2 ring-blue-200 transition-all hover:shadow-lg hover:ring-blue-400">
                                        <h4 className="mb-3 flex items-center gap-3 text-lg font-bold text-blue-700">
                                            <span className="flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-sm text-white font-black">
                                                {idx + 1}
                                            </span>
                                            {step.t}
                                        </h4>
                                        <div className="mb-4 text-lg text-gray-600 pl-11">{step.d}</div>
                                        <div className="bg-blue-50 p-4 text-center text-lg font-bold text-blue-900 rounded-xl math-display border border-blue-100">
                                            <Latex block fontSize="0.9em">{step.m}</Latex>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const Part3 = ({ t, activePracList, activePracticeId, setActivePracticeId }) => {
            const activePrac = activePracList.find(p => p.id === activePracticeId) || activePracList[0];
            return (
                <section id="part3" className="scroll-mt-32 rounded-[2rem] bg-green-100 p-8 shadow-lg shadow-green-100/50 md:p-12 transition-all hover:shadow-xl">
                    <div className="flex items-center gap-3 mb-6">
                        <div className="flex h-12 w-12 items-center justify-center rounded-full bg-white text-green-500 shadow-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19 7-7 3 3-7 7-3-3z"/><path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="m2 2 7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg>
                        </div>
                        <h2 className="text-2xl font-black text-green-700 md:text-3xl">{t.part3Title}</h2>
                    </div>

                    <div className="mb-8 flex flex-wrap gap-3">
                        {activePracList.map((p) => (
                            <button
                                key={p.id}
                                onClick={() => setActivePracticeId(p.id)}
                                className={`rounded-full px-6 py-3 text-lg font-bold transition-all shadow-sm ${
                                    activePracticeId === p.id
                                        ? "bg-green-600 text-white shadow-lg shadow-green-500/30 scale-105"
                                        : "bg-white text-green-600 hover:bg-green-50 hover:scale-105"
                                }`}
                            >
                                {t.btnPracticeLabel} {p.id}
                            </button>
                        ))}
                    </div>

                    <div className="mt-4 rounded-3xl bg-white/60 p-6 md:p-8">
                        <p className="mb-8 text-xl text-gray-700 font-medium">{t.part3Desc}</p>
                        
                        <div key={activePrac.id} className="rounded-3xl bg-white p-6 md:p-8 shadow-md border-2 border-green-300 animate-in fade-in slide-in-from-bottom-4 duration-300">
                            <div className="border-b-2 border-green-100 pb-6 mb-6">
                                <h3 className="text-2xl font-bold text-green-800 mb-3">{activePrac.title}</h3>
                                <div className="flex flex-wrap items-center gap-4 text-lg font-bold text-gray-800">
                                    <span className="bg-green-100 text-green-800 px-3 py-1 rounded-lg">{t.btnPracticeLabel} {activePrac.id}:</span>
                                    <div className="rounded-xl bg-white px-6 py-3 text-green-700 shadow-md ring-1 ring-green-100 math-display">
                                        <Latex block fontSize="0.9em">{activePrac.math}</Latex>
                                    </div>
                                </div>
                            </div>

                            <div className="mt-6 space-y-6">
                                {activePrac.steps.map((step, idx) => (
                                    <div key={idx} className="group rounded-2xl bg-white p-6 ring-2 ring-green-200 transition-all hover:shadow-lg hover:ring-green-400">
                                        <h4 className="mb-3 flex items-center gap-3 text-lg font-bold text-green-600">
                                            <span className="flex h-8 w-8 items-center justify-center rounded-full bg-green-600 text-sm text-white font-black">
                                                {idx + 1}
                                            </span>
                                            {step.t}
                                        </h4>
                                        <div className="mb-4 text-lg text-gray-600 pl-11">{step.d}</div>
                                        <div className="bg-green-50 p-4 text-center text-lg font-bold text-green-800 rounded-xl math-display border border-green-100">
                                            <Latex block fontSize="0.9em">{step.m}</Latex>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const App = () => {
            const [lang, setLang] = useState('zh');
            const [katexLoaded, setKatexLoaded] = useState(false);
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [activeExampleId, setActiveExampleId] = useState(1);
            const [activePracticeId, setActivePracticeId] = useState(1);

            useEffect(() => {
                const checkKatex = setInterval(() => {
                    if (window.katex) {
                        setKatexLoaded(true);
                        clearInterval(checkKatex);
                    }
                }, 100);
                setTimeout(() => setKatexLoaded(true), 3000); 
                return () => clearInterval(checkKatex);
            }, []);

            const toggleLang = () => {
                setLang(prev => prev === 'zh' ? 'en' : 'zh');
                setIsMenuOpen(false);
            };

            const t = DATA[lang];
            const activeExList = EXAMPLES_DATA[lang];
            const activePracList = PRACTICE_DATA[lang];

            if (!katexLoaded) {
                return (
                    <div className="flex h-screen w-full items-center justify-center bg-yellow-50 text-xl font-bold text-gray-500">
                        Loading Math Engine...
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-yellow-50 font-sans text-gray-800 selection:bg-pink-200">
                    <Navbar t={t} isMenuOpen={isMenuOpen} setIsMenuOpen={setIsMenuOpen} toggleLang={toggleLang} />
                    <main className="mx-auto mt-16 flex max-w-6xl flex-col gap-16 px-4 pb-20">
                        <UnitHeader t={t} />
                        <Part1 t={t} />
                        <Part2 t={t} activeExList={activeExList} activeExampleId={activeExampleId} setActiveExampleId={setActiveExampleId} />
                        <Part3 t={t} activePracList={activePracList} activePracticeId={activePracticeId} setActivePracticeId={setActivePracticeId} />
                    </main>
                    <footer className="mt-12 bg-white py-12 text-center text-gray-400 border-t border-gray-100">
                        <p className="text-lg">Â© 2025 Calculus (2) Course. Prof. Wu Wen-Chuan.</p>
                        <p className="mt-2 text-sm">Designed for Student Success</p>
                    </footer>
                </div>
            );
        };

        // ==========================================
        // 4. è³‡æ–™å®šç¾© (Data)
        // ==========================================

        const DATA = {
            zh: {
                title: "å¾®ç©åˆ† (2)",
                teacher: "æˆèª²è€å¸«: å³æ–‡éŠ“ (Prof. Wu Wen-Chuan)",
                menu: ["æ ¸å¿ƒæ¦‚å¿µ", "ç¯„ä¾‹èªªæ˜", "å‹•æ‰‹ç·´ç¿’"],
                langBtn: "English",
                unitId: "10.4",
                unitTitle: "æ¥µåº§æ¨™ä¸­çš„å¾®ç©åˆ†",
                unitSub: "Calculus in Polar Coordinates",
                part1Title: "ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒæ¦‚å¿µ",
                part1Topic: "æ¥µåº§æ¨™æ›²ç·šçš„é¢ç©ã€å¼§é•·èˆ‡åˆ‡ç·š",
                part1Desc: (
                    <span>
                        æœ¬å–®å…ƒå°‡å¾®ç©åˆ†çš„æ ¸å¿ƒé‹ç®—ï¼ˆç©åˆ†ã€å¾®åˆ†ï¼‰æ‡‰ç”¨æ–¼æ¥µåº§æ¨™æ›²ç·šã€‚æˆ‘å€‘ä¸å†è¨ˆç®—é•·æ–¹å½¢é¢ç©ï¼Œè€Œæ˜¯è¨ˆç®—ã€Œæ‰‡å½¢ã€é¢ç©ã€‚
                    </span>
                ),
                analogyTitle: "è§€å¿µé¡æ¯”ï¼šæŠ«è–©åˆ‡ç‰‡ (Pizza Slicing)",
                analogyDesc: (
                    <span>
                        æ¥µåº§æ¨™é¢ç©çš„è¨ˆç®—å°±åƒæ˜¯ã€Œåˆ‡æŠ«è–©ã€ã€‚æˆ‘å€‘å¾åŸé»å‡ºç™¼ï¼ŒæŠŠå€åŸŸåˆ‡æˆç„¡æ•¸å€‹æ¥µç´°çš„ã€Œä¸‰è§’å½¢æ‰‡å½¢ã€ã€‚æ¯ä¸€ç‰‡æŠ«è–©çš„åŠå¾‘æ˜¯ <Latex>{'r'}</Latex>ï¼Œé ‚è§’æ˜¯å¾®å°çš„ <Latex>{'d\\theta'}</Latex>ï¼Œå–®ç‰‡é¢ç©ç‚º <Latex>{'\\frac{1}{2}r^2 d\\theta'}</Latex>ã€‚æŠŠæ‰€æœ‰åˆ‡ç‰‡åŠ ç¸½èµ·ä¾†ï¼ˆç©åˆ†ï¼‰ï¼Œå°±æ˜¯ç¸½é¢ç©ã€‚
                    </span>
                ),
                formula1Title: "1. é¢ç© (Area)",
                formula2Title: "2. å¼§é•· (Arc Length)",
                formula3Title: "3. åˆ‡ç·šæ–œç‡ (Tangent Slope)",
                part2Title: "ç¬¬äºŒéƒ¨åˆ†ï¼šç¯„ä¾‹èªªæ˜",
                part3Title: "ç¬¬ä¸‰éƒ¨åˆ†ï¼šå‹•æ‰‹ç·´ç¿’",
                part3Desc: "è«‹å˜—è©¦è§£æ±ºä»¥ä¸‹é¡Œç›®ï¼Œä¸¦åƒè€ƒè©³ç´°æ­¥é©Ÿæ ¸å°ï¼š",
                btnLabel: "ä¾‹é¡Œ",
                btnPracticeLabel: "ç·´ç¿’é¡Œ"
            },
            en: {
                title: "Calculus (2)",
                teacher: "Instructor: Prof. Wu Wen-Chuan",
                menu: ["Concepts", "Examples", "Practice"],
                langBtn: "ç¹é«”ä¸­æ–‡",
                unitId: "10.4",
                unitTitle: "Calculus in Polar Coordinates",
                unitSub: "Calculus in Polar Coordinates",
                part1Title: "Part 1: Core Concepts",
                part1Topic: "Area, Arc Length, and Tangents",
                part1Desc: (
                    <span>
                        This section applies calculus tools to polar curves. Instead of summing rectangles, we sum "sectors" to find the area.
                    </span>
                ),
                analogyTitle: "Analogy: Pizza Slicing",
                analogyDesc: (
                    <span>
                        Calculating area in polar coordinates is like "slicing a pizza". We divide the region into infinitely many thin "sectors" radiating from the origin. Each slice has radius <Latex>{'r'}</Latex> and angle <Latex>{'d\\theta'}</Latex>, with area <Latex>{'\\frac{1}{2}r^2 d\\theta'}</Latex>. The sum (integral) of these slices gives the total area.
                    </span>
                ),
                formula1Title: "1. Area",
                formula2Title: "2. Arc Length",
                formula3Title: "3. Tangent Slope",
                part2Title: "Part 2: Examples",
                part3Title: "Part 3: Practice",
                part3Desc: "Solve the problems and check the detailed steps below:",
                btnLabel: "Ex",
                btnPracticeLabel: "Q"
            }
        };

        const EXAMPLES_DATA = {
            zh: [
                {
                    id: 1, label: "Ex 1", title: "ç«ç‘°ç·šè‘‰ç‰‡é¢ç© (P.695)",
                    math: "\\displaystyle r = \\cos 2\\theta",
                    steps: [
                        { t: "Step 1: ç¢ºå®šç©åˆ†ç¯„åœ (Find Bounds)", d: (<span>æ‰¾å‡º <Latex>{'r=0'}</Latex> çš„è§’åº¦ã€‚ç•¶ <Latex>{'\\cos 2\\theta = 0'}</Latex> æ™‚ï¼Œ<Latex>{'2\\theta = \\pm \\pi/2'}</Latex>ã€‚</span>), m: "\\displaystyle \\theta = \\pm \\frac{\\pi}{4} \\implies [-\\frac{\\pi}{4}, \\frac{\\pi}{4}]" },
                        { t: "Step 2: å»ºç«‹ç©åˆ†å¼ (Setup)", d: (<span>åˆ©ç”¨å°ç¨±æ€§ï¼Œè¨ˆç®— <Latex>{'[0, \\pi/4]'}</Latex> å†ä¹˜ä»¥ 2ã€‚</span>), m: "\\displaystyle A = 2 \\int_{0}^{\\pi/4} \\frac{1}{2}r^2 \\, d\\theta = \\int_{0}^{\\pi/4} (\\cos 2\\theta)^2 \\, d\\theta" },
                        { t: "Step 3: åŠè§’å…¬å¼ (Half-Angle Formula)", d: (<span>å°‡å¹³æ–¹é …é™æ¬¡ï¼š<Latex>{'\\cos^2 u = \\frac{1+\\cos 2u}{2}'}</Latex>ã€‚</span>), m: "\\displaystyle \\int_{0}^{\\pi/4} \\frac{1 + \\cos 4\\theta}{2} \\, d\\theta = \\frac{1}{2} \\int_{0}^{\\pi/4} (1 + \\cos 4\\theta) \\, d\\theta" },
                        { t: "Step 4: ç©åˆ† (Integrate)", d: (<span>é€é …ç©åˆ†ã€‚</span>), m: "\\displaystyle \\frac{1}{2} \\left[ \\theta + \\frac{1}{4}\\sin 4\\theta \\right]_0^{\\pi/4}" },
                        { t: "Step 5: è¨ˆç®—çµæœ (Evaluate)", d: (<span>ä»£å…¥ <Latex>{'\\pi/4'}</Latex>ã€‚æ³¨æ„ <Latex>{'\\sin \\pi = 0'}</Latex>ã€‚ <br/><img src="Figure/10.4_1.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle \\frac{1}{2} (\\frac{\\pi}{4} + 0 - 0) = \\frac{\\pi}{8}" }
                    ]
                },
                {
                    id: 2, label: "Ex 2", title: "å…©æ›²ç·šåœæˆçš„é¢ç© (P.696)",
                    math: "\\displaystyle r = 3\\sin\\theta \\quad \\text{and} \\quad r = 1+\\sin\\theta",
                    steps: [
                        { t: "Step 1: å°‹æ‰¾äº¤é» (Find Intersections)", d: (<span>ä»¤å…©å¼ç›¸ç­‰ï¼š<Latex>{'3\\sin\\theta = 1+\\sin\\theta'}</Latex>ã€‚</span>), m: "\\displaystyle 2\\sin\\theta = 1 \\implies \\sin\\theta = \\frac{1}{2} \\implies \\theta = \\frac{\\pi}{6}, \\frac{5\\pi}{6}" },
                        { t: "Step 2: å»ºç«‹ç©åˆ†å¼ (Setup)", d: (<span>å€åŸŸä½æ–¼åœ“å…§ä¸”åœ¨å¿ƒå½¢ç·šå¤–ã€‚å…¬å¼ç‚º <Latex>{'\\frac{1}{2}\\int (r_{out}^2 - r_{in}^2) d\\theta'}</Latex>ã€‚</span>), m: "\\displaystyle A = \\frac{1}{2} \\int_{\\pi/6}^{5\\pi/6} [(3\\sin\\theta)^2 - (1+\\sin\\theta)^2] \\, d\\theta" },
                        { t: "Step 3: å±•é–‹ä¸¦åŒ–ç°¡ (Expand)", d: (<span>å±•é–‹å¹³æ–¹ä¸¦åˆä½µåŒé¡é …ã€‚</span>), m: "\\displaystyle 9\\sin^2\\theta - (1 + 2\\sin\\theta + \\sin^2\\theta) = 8\\sin^2\\theta - 2\\sin\\theta - 1" },
                        { t: "Step 4: ç©åˆ† (Integrate)", d: (<span>åˆ©ç”¨ <Latex>{'\\sin^2\\theta = (1-\\cos 2\\theta)/2'}</Latex> ç©åˆ†ã€‚ <br/><img src="Figure/10.4_2.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle \\text{After integration: } \\pi" }
                    ]
                },
                {
                    id: 4, label: "Ex 4", title: "å¿ƒå½¢ç·šçš„å¼§é•· (P.698)",
                    math: "\\displaystyle r = 1 + \\sin\\theta, \\quad 0 \\le \\theta \\le 2\\pi",
                    steps: [
                        { t: "Step 1: æ±‚å°æ•¸ (Derivative)", d: (<span>è¨ˆç®— <Latex>{'dr/d\\theta'}</Latex>ã€‚</span>), m: "\\displaystyle \\frac{dr}{d\\theta} = \\cos\\theta" },
                        { t: "Step 2: è¨ˆç®—æ ¹è™Ÿé … (Simplify Integrand)", d: (<span>è¨ˆç®— <Latex>{'r^2 + (r\')^2'}</Latex>ã€‚åˆ©ç”¨ <Latex>{'\\sin^2 + \\cos^2 = 1'}</Latex>ã€‚</span>), m: "\\displaystyle (1+\\sin\\theta)^2 + \\cos^2\\theta = 1 + 2\\sin\\theta + \\sin^2\\theta + \\cos^2\\theta = 2 + 2\\sin\\theta" },
                        { t: "Step 3: å»ºç«‹ç©åˆ†å¼ (Setup Integral)", d: (<span>ä»£å…¥å¼§é•·å…¬å¼ã€‚</span>), m: "\\displaystyle L = \\int_0^{2\\pi} \\sqrt{2 + 2\\sin\\theta} \\, d\\theta" },
                        { t: "Step 4: è¨ˆç®—çµæœ (Result)", d: (<span>åˆ©ç”¨åŠè§’å…¬å¼æˆ–å…±è»›è¤‡æ•¸åŒ–ç°¡ç©åˆ† (ç´°ç¯€ç•¥)ã€‚ <br/><img src="Figure/10.4_4.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle L = 8" }
                    ]
                },
                {
                    id: 5, label: "Ex 5", title: "åˆ‡ç·šèˆ‡æ°´å¹³åˆ‡ç·š (Tangents) (P.698)",
                    math: "\\displaystyle (a) \\ \\text{Slope at } \\theta = \\pi/3 \\quad (b) \\ \\text{Horizontal Tangents}",
                    steps: [
                        { t: "Step 1: (a) æ–œç‡å…¬å¼ (Slope Formula)", d: (<span>åˆ©ç”¨ <Latex>{'dy/dx'}</Latex> çš„æ¥µåº§æ¨™å½¢å¼ã€‚</span>), m: "\\displaystyle \\frac{dy}{dx} = \\frac{r'\\sin\\theta + r\\cos\\theta}{r'\\cos\\theta - r\\sin\\theta}" },
                        { t: "Step 2: (a) è¨ˆç®—æ•¸å€¼ (Calculate Values)", d: (<span>ç•¶ <Latex>{'\\theta=\\pi/3'}</Latex> æ™‚ï¼Œ<Latex>{'r = 1+\\frac{\\sqrt{3}}{2}'}</Latex>ï¼Œ<Latex>{'r\' = \\cos(\\pi/3) = \\frac{1}{2}'}</Latex>ã€‚</span>), m: "\\displaystyle \\sin\\frac{\\pi}{3} = \\frac{\\sqrt{3}}{2}, \\quad \\cos\\frac{\\pi}{3} = \\frac{1}{2}" },
                        { t: "Step 3: (a) ä»£å…¥å…¬å¼ (Substitute)", d: (<span>å°‡æ•¸å€¼ä»£å…¥å…¬å¼ä¸­ã€‚</span>), m: "\\displaystyle \\frac{\\frac{1}{2}(\\frac{\\sqrt{3}}{2}) + (1+\\frac{\\sqrt{3}}{2})\\frac{1}{2}}{\\frac{1}{2}(\\frac{1}{2}) - (1+\\frac{\\sqrt{3}}{2})\\frac{\\sqrt{3}}{2}}" },
                        { t: "Step 4: (a) åŒ–ç°¡çµæœ (Simplify)", d: (<span>åˆ†å­åˆ†æ¯åŒ–ç°¡ã€‚</span>), m: "\\displaystyle \\frac{\\frac{\\sqrt{3}}{4} + \\frac{1}{2} + \\frac{\\sqrt{3}}{4}}{\\frac{1}{4} - \\frac{\\sqrt{3}}{2} - \\frac{3}{4}} = \\frac{\\frac{1+\\sqrt{3}}{2}}{-\\frac{1+\\sqrt{3}}{2}} = -1" },
                        { t: "Step 5: (b) æ°´å¹³åˆ‡ç·šæ¢ä»¶ (Condition)", d: (<span><Latex>{'dy/d\\theta = 0'}</Latex> (ä¸” <Latex>{'dx/d\\theta \\neq 0'}</Latex>)ã€‚</span>), m: "\\displaystyle \\frac{dy}{d\\theta} = 0" },
                        { t: "Step 6: (b) å»ºç«‹ y å‡½æ•¸ (Function y)", d: (<span><Latex>{'y = r\\sin\\theta'}</Latex>ã€‚</span>), m: "\\displaystyle y = (1+\\sin\\theta)\\sin\\theta = \\sin\\theta + \\sin^2\\theta" },
                        { t: "Step 7: (b) å¾®åˆ†æ±‚è§£ (Differentiate)", d: (<span>ä»¤å°æ•¸ç‚º 0ã€‚</span>), m: "\\displaystyle y' = \\cos\\theta + 2\\sin\\theta\\cos\\theta = \\cos\\theta(1+2\\sin\\theta) = 0" },
                        { t: "Step 8: (b) è§£å‡ºè§’åº¦ (Solve)", d: (<span><Latex>{'\\cos\\theta=0'}</Latex> æˆ– <Latex>{'\\sin\\theta=-1/2'}</Latex>ã€‚ <br/><img src="Figure/10.4_5.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle \\theta = \\frac{\\pi}{2}, \\frac{3\\pi}{2}, \\frac{7\\pi}{6}, \\frac{11\\pi}{6}" }
                    ]
                }
            ],
            en: [
                {
                    id: 1, label: "Ex 1", title: "Area of One Leaf (P.695)",
                    math: "\\displaystyle r = \\cos 2\\theta",
                    steps: [
                        { t: "Step 1: Find Bounds", d: (<span>Solve <Latex>{'r=0'}</Latex>. <Latex>{'2\\theta = \\pm \\pi/2'}</Latex>.</span>), m: "\\displaystyle \\theta = \\pm \\frac{\\pi}{4}" },
                        { t: "Step 2: Setup", d: (<span>Use symmetry: <Latex>{'2 \\times [0, \\pi/4]'}</Latex>.</span>), m: "\\displaystyle A = 2 \\int_{0}^{\\pi/4} \\frac{1}{2}(\\cos 2\\theta)^2 \\, d\\theta" },
                        { t: "Step 3: Half-Angle", d: (<span>Use identity <Latex>{'\\cos^2 u = (1+\\cos 2u)/2'}</Latex>.</span>), m: "\\displaystyle \\int_{0}^{\\pi/4} \\frac{1+\\cos 4\\theta}{2} \\, d\\theta" },
                        { t: "Step 4: Integrate", d: (<span>Integrate term by term.</span>), m: "\\displaystyle \\frac{1}{2} [\\theta + \\frac{1}{4}\\sin 4\\theta]_0^{\\pi/4}" },
                        { t: "Step 5: Result", d: (<span>Substitute limits. <br/><img src="Figure/10.4_1.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle \\frac{1}{2}(\\frac{\\pi}{4}) = \\frac{\\pi}{8}" }
                    ]
                },
                {
                    id: 2, label: "Ex 2", title: "Area Between Curves (P.696)",
                    math: "\\displaystyle r = 3\\sin\\theta \\quad \\text{and} \\quad r = 1+\\sin\\theta",
                    steps: [
                        { t: "Step 1: Intersect", d: (<span>Find intersection angles.</span>), m: "\\displaystyle 3\\sin\\theta = 1+\\sin\\theta \\implies \\sin\\theta = 1/2 \\implies \\theta = \\pi/6, 5\\pi/6" },
                        { t: "Step 2: Setup", d: (<span>Outer minus Inner area.</span>), m: "\\displaystyle A = \\frac{1}{2} \\int_{\\pi/6}^{5\\pi/6} [(3\\sin\\theta)^2 - (1+\\sin\\theta)^2] \\, d\\theta" },
                        { t: "Step 3: Expand", d: (<span>Simplify the integrand.</span>), m: "\\displaystyle 8\\sin^2\\theta - 2\\sin\\theta - 1" },
                        { t: "Step 4: Result", d: (<span>Final answer. <br/><img src="Figure/10.4_2.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle \\pi" }
                    ]
                },
                {
                    id: 4, label: "Ex 4", title: "Arc Length Cardioid (P.698)",
                    math: "\\displaystyle r = 1 + \\sin\\theta",
                    steps: [
                        { t: "Step 1: Derivative", d: (<span>Find <Latex>{'r\''}</Latex>.</span>), m: "\\displaystyle r' = \\cos\\theta" },
                        { t: "Step 2: Simplify Root", d: (<span><Latex>{'r^2 + (r\')^2'}</Latex>.</span>), m: "\\displaystyle (1+\\sin\\theta)^2 + \\cos^2\\theta = 2 + 2\\sin\\theta" },
                        { t: "Step 3: Setup", d: (<span>Arc length formula.</span>), m: "\\displaystyle L = \\int_0^{2\\pi} \\sqrt{2 + 2\\sin\\theta} \\, d\\theta" },
                        { t: "Step 4: Result", d: (<span>Evaluate. <br/><img src="Figure/10.4_4.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle 8" }
                    ]
                },
                {
                    id: 5, label: "Ex 5", title: "Tangents & Horizontal Tangents (P.698)",
                    math: "\\displaystyle (a) \\ \\text{Slope at } \\theta = \\pi/3 \\quad (b) \\ \\text{Horizontal Tangents}",
                    steps: [
                        { t: "Step 1: (a) Formula", d: (<span>Slope in polar coordinates.</span>), m: "\\displaystyle \\frac{dy}{dx} = \\frac{r'\\sin\\theta + r\\cos\\theta}{r'\\cos\\theta - r\\sin\\theta}" },
                        { t: "Step 2: (a) Values", d: (<span>Evaluate r and r'.</span>), m: "\\displaystyle r = 1+\\frac{\\sqrt{3}}{2}, \\quad r' = \\frac{1}{2}" },
                        { t: "Step 3: (a) Substitute", d: (<span>Plug in values.</span>), m: "\\displaystyle \\text{Complex fraction...}" },
                        { t: "Step 4: (a) Simplify", d: (<span>Reduce.</span>), m: "\\displaystyle -1" },
                        { t: "Step 5: (b) Condition", d: (<span>Horizontal means dy/dtheta = 0.</span>), m: "\\displaystyle \\frac{dy}{d\\theta} = 0" },
                        { t: "Step 6: (b) Function y", d: (<span>y = r sin(theta).</span>), m: "\\displaystyle y = (1+\\sin\\theta)\\sin\\theta = \\sin\\theta + \\sin^2\\theta" },
                        { t: "Step 7: (b) Differentiate", d: (<span>Set derivative to 0.</span>), m: "\\displaystyle y' = \\cos\\theta(1+2\\sin\\theta) = 0" },
                        { t: "Step 8: (b) Solve", d: (<span>Find angles. <br/><img src="Figure/10.4_5.PNG" width="300" style={{display: "block", margin: "8px auto"}}/>  </span>), m: "\\displaystyle \\theta = \\pi/2, 3\\pi/2, 7\\pi/6, 11\\pi/6" }
                    ]
                }
            ]
        };

        const PRACTICE_DATA = {
            zh: [
                { 
                    id: 1, label: "Q 1", title: "ç·´ç¿’é¡Œ 1 (åŸºç¤é¢ç©)", math: "\\displaystyle r = \\sqrt{2\\theta}, \\quad 0 \\le \\theta \\le \\pi/2", 
                    steps: [
                        { t: "Step 1: å¸¶å…¥å…¬å¼ (Setup)", d: (<span>ä½¿ç”¨é¢ç©å…¬å¼ <Latex>{'A = \\int \\frac{1}{2}r^2 d\\theta'}</Latex>ã€‚</span>), m: "\\displaystyle A = \\int_{0}^{\\pi/2} \\frac{1}{2} (\\sqrt{2\\theta})^2 \\, d\\theta" },
                        { t: "Step 2: åŒ–ç°¡ (Simplify)", d: (<span>å¹³æ–¹æ ¹èˆ‡å¹³æ–¹æŠµæ¶ˆã€‚</span>), m: "\\displaystyle A = \\int_{0}^{\\pi/2} \\frac{1}{2} (2\\theta) \\, d\\theta = \\int_{0}^{\\pi/2} \\theta \\, d\\theta" },
                        { t: "Step 3: ç©åˆ† (Integrate)", d: (<span>å†ªæ¬¡æ³•å‰‡ã€‚</span>), m: "\\displaystyle \\left[ \\frac{1}{2}\\theta^2 \\right]_0^{\\pi/2}" },
                        { t: "Step 4: çµæœ (Result)", d: (<span>ä»£å…¥ã€‚</span>), m: "\\displaystyle \\frac{1}{2} (\\frac{\\pi^2}{4}) = \\frac{\\pi^2}{8}" }
                    ]
                },
                { 
                    id: 2, label: "Q 2", title: "ç·´ç¿’é¡Œ 2 (æŒ‡æ•¸èºæ—‹ç·š)", math: "\\displaystyle r = e^\\theta, \\quad 3\\pi/4 \\le \\theta \\le 3\\pi/2", 
                    steps: [
                        { t: "Step 1: å¸¶å…¥å…¬å¼ (Setup)", d: (<span>ä½¿ç”¨é¢ç©å…¬å¼ã€‚</span>), m: "\\displaystyle A = \\int_{3\\pi/4}^{3\\pi/2} \\frac{1}{2} (e^\\theta)^2 \\, d\\theta" },
                        { t: "Step 2: åŒ–ç°¡ (Simplify)", d: (<span>æŒ‡æ•¸å¾‹ <Latex>{'(e^a)^b = e^{ab}'}</Latex>ã€‚</span>), m: "\\displaystyle A = \\int_{3\\pi/4}^{3\\pi/2} \\frac{1}{2} e^{2\\theta} \\, d\\theta" },
                        { t: "Step 3: ç©åˆ† (Integrate)", d: (<span>æŒ‡æ•¸å‡½æ•¸ç©åˆ†ï¼Œé™¤ä»¥ä¿‚æ•¸ 2ã€‚</span>), m: "\\displaystyle \\frac{1}{2} \\left[ \\frac{1}{2}e^{2\\theta} \\right]_{3\\pi/4}^{3\\pi/2} = \\frac{1}{4} \\left[ e^{2\\theta} \\right]_{3\\pi/4}^{3\\pi/2}" },
                        { t: "Step 4: çµæœ (Result)", d: (<span>ä»£å…¥ä¸Šä¸‹é™ã€‚</span>), m: "\\displaystyle \\frac{1}{4} (e^{3\\pi} - e^{3\\pi/2})" }
                    ]
                },
                { 
                    id: 3, label: "Q 3", title: "ç·´ç¿’é¡Œ 3 (ç«ç‘°ç·šä¸€è‘‰é¢ç©)", math: "\\displaystyle r = \\sin 3\\theta", 
                    steps: [
                        { t: "Step 1: æ‰¾é‚Šç•Œ (Find Bounds)", d: (<span>ä»¤ <Latex>{'r=0'}</Latex>ã€‚ <Latex>{'3\\theta = 0, \\pi'}</Latex>ã€‚</span>), m: "\\displaystyle \\theta = 0 \\quad \\text{to} \\quad \\theta = \\pi/3" },
                        { t: "Step 2: å¸¶å…¥å…¬å¼ (Setup)", d: (<span>é¢ç©å…¬å¼ã€‚</span>), m: "\\displaystyle A = \\int_{0}^{\\pi/3} \\frac{1}{2} \\sin^2 3\\theta \\, d\\theta" },
                        { t: "Step 3: é™æ¬¡ (Reduce Power)", d: (<span>ä½¿ç”¨ <Latex>{'\\sin^2 u = (1-\\cos 2u)/2'}</Latex>ã€‚</span>), m: "\\displaystyle A = \\int_{0}^{\\pi/3} \\frac{1}{4} (1 - \\cos 6\\theta) \\, d\\theta" },
                        { t: "Step 4: ç©åˆ†èˆ‡çµæœ (Result)", d: (<span>ç©åˆ†å¾Œä»£å…¥ã€‚</span>), m: "\\displaystyle \\frac{1}{4} \\left[ \\theta - \\frac{1}{6}\\sin 6\\theta \\right]_0^{\\pi/3} = \\frac{1}{4}(\\frac{\\pi}{3} - 0) = \\frac{\\pi}{12}" }
                    ]
                },
                { 
                    id: 4, label: "Q 4", title: "ç·´ç¿’é¡Œ 4 (åœ“çš„å‘¨é•·)", math: "\\displaystyle r = 2\\cos\\theta, \\quad 0 \\le \\theta \\le \\pi", 
                    steps: [
                        { t: "Step 1: æ±‚å°æ•¸ (Derivative)", d: (<span>è¨ˆç®— <Latex>{'r\''}</Latex>ã€‚</span>), m: "\\displaystyle r' = -2\\sin\\theta" },
                        { t: "Step 2: è¨ˆç®—æ ¹è™Ÿé … (Simplify)", d: (<span><Latex>{'r^2 + (r\')^2'}</Latex>ã€‚</span>), m: "\\displaystyle 4\\cos^2\\theta + 4\\sin^2\\theta = 4(1) = 4" },
                        { t: "Step 3: å¸¶å…¥å…¬å¼ (Setup)", d: (<span>å¼§é•·å…¬å¼ã€‚</span>), m: "\\displaystyle L = \\int_{0}^{\\pi} \\sqrt{4} \\, d\\theta = \\int_{0}^{\\pi} 2 \\, d\\theta" },
                        { t: "Step 4: çµæœ (Result)", d: (<span>å¸¸æ•¸ç©åˆ†ã€‚</span>), m: "\\displaystyle [2\\theta]_0^\\pi = 2\\pi" }
                    ]
                },
                { 
                    id: 5, label: "Q 5", title: "ç·´ç¿’é¡Œ 5 (åˆ‡ç·šæ–œç‡)", math: "\\displaystyle r = \\cos 2\\theta, \\quad \\text{at } \\theta = \\pi/4", 
                    steps: [
                        { t: "Step 1: æ±‚å°æ•¸èˆ‡å€¼ (Values)", d: (<span><Latex>{'r(\\pi/4) = \\cos(\\pi/2) = 0'}</Latex>ã€‚ <Latex>{'r\' = -2\\sin 2\\theta \\to r\'(\\pi/4) = -2'}</Latex>ã€‚</span>), m: "\\displaystyle r=0, \\quad r'=-2" },
                        { t: "Step 2: æ–œç‡å…¬å¼ (Formula)", d: (<span>å¸¶å…¥æ–œç‡å…¬å¼ã€‚</span>), m: "\\displaystyle \\frac{dy}{dx} = \\frac{r'\\sin\\theta + r\\cos\\theta}{r'\\cos\\theta - r\\sin\\theta}" },
                        { t: "Step 3: ä»£å…¥æ•¸å€¼ (Substitute)", d: (<span><Latex>{'\\sin(\\pi/4)=\\cos(\\pi/4)=1/\\sqrt{2}'}</Latex>ã€‚</span>), m: "\\displaystyle \\frac{(-2)(1/\\sqrt{2}) + 0}{(-2)(1/\\sqrt{2}) - 0} = \\frac{-2/\\sqrt{2}}{-2/\\sqrt{2}}" },
                        { t: "Step 4: çµæœ (Result)", d: (<span>åŒ–ç°¡ã€‚</span>), m: "\\displaystyle 1" }
                    ]
                }
            ],
            en: [
                { 
                    id: 1, label: "Q 1", title: "Practice 1 (Basic Area)", math: "\\displaystyle r = \\sqrt{2\\theta}, \\quad 0 \\le \\theta \\le \\pi/2", 
                    steps: [
                        { t: "Step 1: Setup", d: (<span>Area formula.</span>), m: "\\displaystyle A = \\int_{0}^{\\pi/2} \\frac{1}{2} (\\sqrt{2\\theta})^2 \\, d\\theta" },
                        { t: "Step 2: Simplify", d: (<span>Remove root.</span>), m: "\\displaystyle \\int_{0}^{\\pi/2} \\theta \\, d\\theta" },
                        { t: "Step 3: Integrate", d: (<span>Power rule.</span>), m: "\\displaystyle [\\frac{1}{2}\\theta^2]_0^{\\pi/2}" },
                        { t: "Step 4: Result", d: (<span>Answer.</span>), m: "\\displaystyle \\frac{\\pi^2}{8}" }
                    ]
                },
                { 
                    id: 2, label: "Q 2", title: "Practice 2 (Exponential)", math: "\\displaystyle r = e^\\theta, \\quad 3\\pi/4 \\le \\theta \\le 3\\pi/2", 
                    steps: [
                        { t: "Step 1: Setup", d: (<span>Area formula.</span>), m: "\\displaystyle A = \\int_{3\\pi/4}^{3\\pi/2} \\frac{1}{2} e^{2\\theta} \\, d\\theta" },
                        { t: "Step 2: Integrate", d: (<span>Exponential rule.</span>), m: "\\displaystyle \\frac{1}{4} [e^{2\\theta}]_{3\\pi/4}^{3\\pi/2}" },
                        { t: "Step 3: Result", d: (<span>Final value.</span>), m: "\\displaystyle \\frac{1}{4}(e^{3\\pi} - e^{3\\pi/2})" }
                    ]
                },
                { 
                    id: 3, label: "Q 3", title: "Practice 3 (Rose Area)", math: "\\displaystyle r = \\sin 3\\theta", 
                    steps: [
                        { t: "Step 1: Bounds", d: (<span>One loop.</span>), m: "\\displaystyle 0 \\le \\theta \\le \\pi/3" },
                        { t: "Step 2: Setup", d: (<span>Half-angle formula.</span>), m: "\\displaystyle \\int_0^{\\pi/3} \\frac{1}{4}(1-\\cos 6\\theta) d\\theta" },
                        { t: "Step 3: Result", d: (<span>Integrate.</span>), m: "\\displaystyle \\frac{\\pi}{12}" }
                    ]
                },
                { 
                    id: 4, label: "Q 4", title: "Practice 4 (Length)", math: "\\displaystyle r = 2\\cos\\theta, \\quad 0 \\le \\theta \\le \\pi", 
                    steps: [
                        { t: "Step 1: Derivative", d: (<span>Find r'.</span>), m: "\\displaystyle r' = -2\\sin\\theta" },
                        { t: "Step 2: Simplify", d: (<span>Integrand becomes constant 2.</span>), m: "\\displaystyle \\sqrt{4\\cos^2 + 4\\sin^2} = 2" },
                        { t: "Step 3: Result", d: (<span>Integrate 2.</span>), m: "\\displaystyle 2\\pi" }
                    ]
                },
                { 
                    id: 5, label: "Q 5", title: "Practice 5 (Slope)", math: "\\displaystyle r = \\cos 2\\theta, \\quad \\text{at } \\theta = \\pi/4", 
                    steps: [
                        { t: "Step 1: Values", d: (<span>r=0, r'=-2.</span>), m: "\\displaystyle r(\\pi/4)=0" },
                        { t: "Step 2: Formula", d: (<span>Tangent slope.</span>), m: "\\displaystyle \\frac{-2(\\sin)+0}{-2(\\cos)-0}" },
                        { t: "Step 3: Result", d: (<span>Simplify.</span>), m: "\\displaystyle 1" }
                    ]
                }
            ]
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>